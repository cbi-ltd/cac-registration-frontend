{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/lib/store.ts"],"sourcesContent":["import { create } from \"zustand\"\nimport { persist,createJSONStorage, StateStorage } from \"zustand/middleware\"\n\nexport const API_BASE_URL =\n  \"https://cac-registration-backend.onrender.com/api/merchant/\"\n\n/* ===================== TYPES ===================== */\n\nexport interface RegistrationData {\n  preferredNames: string[]\n  selectedBusinessName: string\n\n  applicantType: \"individual\" | \"organization\"\n\n  title: string\n  firstName: string\n  middleName: string\n  lastName: string\n\n  organizationName: string\n  rcNumber: string\n  organizationEmail: string\n\n  dateOfBirth: string\n  gender: \"male\" | \"female\" | \"\"\n  nationality: string\n  phone: string\n  email: string\n  residentialAddress: string\n\n  idType: string\n  idNumber: string\n  idIssueDate: string\n  idExpiryDate: string\n  idDocument: File | null\n  passportPhoto: File | null\n\n  businessActivity: string\n  businessActivityCode: string\n  natureOfBusiness: string\n  businessAddress: string\n  companyCity: string\n  companyState: string\n  companyStreetNumber: string\n\n  sameAsResidential: string\n  businessPhone: string\n  businessEmail: string\n  commencementDate: string\n\n  proofOfAddress: File | null\n\n  paymentStatus: \"pending\" | \"initiating\" | \"success\" | \"failed\"\n  paymentReference: string\n  paymentError: string\n  submitted: boolean\n\n  currentStep: number\n  completedSteps: number[]\n  applicationId: string\n  applicationReference: string\n\n  proprietorCity: string\n  proprietorState: string\n  proprietorPostcode: string\n  proprietorLga: string\n  proprietorStreetNumber: string\n\n  supportingDocBase64?: string | null\n  signatureBase64?: string | null\n  meansOfIdBase64?: string | null\n  passportBase64?: string | null\n}\n\n/* ===================== INITIAL STATE ===================== */\n\nconst initialState: RegistrationData = {\n  preferredNames: [\"\", \"\"],\n  selectedBusinessName: \"\",\n  applicantType: \"individual\",\n  title: \"\",\n  firstName: \"\",\n  middleName: \"\",\n  lastName: \"\",\n  organizationName: \"\",\n  rcNumber: \"\",\n  organizationEmail: \"\",\n  dateOfBirth: \"\",\n  gender: \"\",\n  nationality: \"\",\n  phone: \"\",\n  email: \"\",\n  residentialAddress: \"\",\n  idType: \"\",\n  idNumber: \"\",\n  idIssueDate: \"\",\n  idExpiryDate: \"\",\n  idDocument: null,\n  passportPhoto: null,\n  businessActivity: \"\",\n  businessActivityCode: \"\",\n  natureOfBusiness: \"\",\n  businessAddress: \"\",\n  companyCity: \"\",\n  companyState: \"\",\n  companyStreetNumber: \"\",\n\n  sameAsResidential: \"\",\n  businessPhone: \"\",\n  businessEmail: \"\",\n  commencementDate: \"\",\n  proofOfAddress: null,\n  paymentStatus: \"pending\",\n  paymentReference: \"\",\n  paymentError: \"\",\n  submitted: false,\n  currentStep: 1,\n  completedSteps: [],\n  applicationId: \"\",\n  applicationReference: \"\",\n\n  proprietorCity: \"\",\n  proprietorState: \"\",\n  proprietorPostcode: \"\",\n  proprietorLga: \"\",\n  proprietorStreetNumber: \"\",\n\n  supportingDocBase64: null,\n  signatureBase64: null,\n  meansOfIdBase64: null,\n  passportBase64: null,\n}\n\n/* ===================== HELPERS ===================== */\n\nconst extractStreetNumber = (addr = \"\") => {\n  const parts = addr.trim().split(/\\s+/)\n  return /^\\d+/.test(parts[0]) ? parts[0] : \"\"\n}\n\nconst appendIfExists = (\n  fd: FormData,\n  key: string,\n  value?: string | Blob | null\n) => {\n  if (value !== undefined && value !== null && value !== \"\") {\n    fd.append(key, value)\n  }\n}\n\nconst generateApplicationReference = (length = 9): string => {\n  const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n  let result = \"\"\n\n  for (let i = 0; i < length; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length))\n  }\n\n  return result\n}\nconst base64ToFile = (\n  base64: string,\n  filename: string\n): File => {\n  const [meta, data] = base64.split(\",\")\n  const mime = meta.match(/:(.*?);/)?.[1] || \"application/octet-stream\"\n\n  const binary = atob(data)\n  const array = new Uint8Array(binary.length)\n\n  for (let i = 0; i < binary.length; i++) {\n    array[i] = binary.charCodeAt(i)\n  }\n\n  return new File([array], filename, { type: mime })\n}\n\n\n/* ===================== FORM DATA BUILDER ===================== */\n\nconst buildSubmissionPayload = (data: Partial<RegistrationData>) => {\n  const fd = new FormData()\n\n  appendIfExists(\n    fd,\n    \"lineOfBusiness\",\n    data.businessActivity || data.natureOfBusiness\n  )\n  appendIfExists(fd, \"proprietorFirstname\", data.firstName)\n  appendIfExists(fd, \"proprietorOthername\", data.middleName)\n  appendIfExists(fd, \"proprietorSurname\", data.lastName)\n  appendIfExists(fd, \"proprietorEmail\", data.email)\n  appendIfExists(fd, \"proprietorPhonenumber\", data.phone)\n  appendIfExists(fd, \"proprietorNationality\", data.nationality)\n  appendIfExists(fd, \"proprietorDob\", data.dateOfBirth)\n  appendIfExists(fd, \"proprietorGender\", data.gender?.toUpperCase())\n\n  appendIfExists(fd, \"proprietorStreetNumber\",\n    extractStreetNumber(data.proprietorStreetNumber)\n  )\n  appendIfExists(fd, \"proprietorServiceAddress\", data.residentialAddress)\n\n  appendIfExists(fd, \"companyAddress\", data.businessAddress)\n  appendIfExists(fd, \"companyEmail\", data.businessEmail)\n  appendIfExists(fd, \"companyCity\", data.companyCity)\n  appendIfExists(fd, \"companyState\", data.companyState)\n  appendIfExists(fd, \"companyStreetNumber\", data.companyStreetNumber)\n  appendIfExists(fd, \"businessCommencementDate\", data.commencementDate)\n\n  appendIfExists(\n    fd,\n    \"proposedOption1\",\n    data.selectedBusinessName || data.preferredNames?.[0]\n  )\n\n  // appendIfExists(\n  //   fd,\n  //   \"transactionRef\",\n  //   data.paymentReference || data.applicationReference\n  // )\n\n  const transactionRef =\n  // data.paymentReference ||\n  // data.applicationReference ||\n  generateApplicationReference(9)\n\n  appendIfExists(fd, \"transactionRef\", transactionRef)\n\n\n  appendIfExists(fd, \"proprietorCity\", data.proprietorCity)\n  appendIfExists(fd, \"proprietorState\", data.proprietorState)\n  appendIfExists(fd, \"proprietorPostcode\", data.proprietorPostcode)\n  appendIfExists(fd, \"proprietorLga\", data.proprietorLga)\n\n  // appendIfExists(fd, \"supportingDoc\", data.supportingDocBase64)\n  // appendIfExists(fd, \"signature\", data.signatureBase64)\n  // appendIfExists(fd, \"meansOfId\", data.meansOfIdBase64)\n  // appendIfExists(fd, \"passport\", data.passportBase64)\n  if (data.supportingDocBase64) {\n    fd.append(\n      \"supportingDoc\",\n      base64ToFile(data.supportingDocBase64, \"supporting-doc.png\")\n    )\n  }\n\n  if (data.signatureBase64) {\n    fd.append(\n      \"signature\",\n      base64ToFile(data.signatureBase64, \"signature.png\")\n    )\n  }\n\n  if (data.meansOfIdBase64) {\n    fd.append(\n      \"meansOfId\",\n      base64ToFile(data.meansOfIdBase64, \"means-of-id.png\")\n    )\n  }\n\n  if (data.passportBase64) {\n    fd.append(\n      \"passport\",\n      base64ToFile(data.passportBase64, \"passport.png\")\n    )\n  }\n\n\n  // console.log(\"FORM DATA:\", [...fd.entries()])\n  return fd\n}\nconst noopStorage: StateStorage = {\n  getItem: () => null,\n  setItem: () => {},\n  removeItem: () => {},\n}\n\n/* ===================== STORE ===================== */\n\nexport const useRegistrationStore = create<\n  RegistrationData & {\n    hasHydrated: boolean\n    updateField: (field: keyof RegistrationData, value: any) => void\n    nextStep: () => void\n    previousStep: () => void\n    submitRegistration: () => Promise<any>\n    reset: () => void\n    setHasHydrated: (value: boolean) => void\n  }\n>()(\n  persist(\n    (set, get) => ({\n      ...initialState,\n      hasHydrated: false,\n\n      updateField: (field, value) =>\n      set({ [field]: value }),\n      setHasHydrated: (value) => set({ hasHydrated: value }),\n\n      nextStep: () =>\n        set((state) => ({\n          currentStep: Math.min(state.currentStep + 1, 7),\n          completedSteps: Array.from(\n            new Set([...state.completedSteps, state.currentStep])\n          ),\n        })),\n\n      previousStep: () =>\n        set((state) => ({\n          currentStep: Math.max(state.currentStep - 1, 1),\n        })),\n\n      submitRegistration: async () => {\n        const state = get()\n        const formData = buildSubmissionPayload(state)\n\n        const resp = await fetch(`${API_BASE_URL}reg-bn`, {\n          method: \"POST\",\n          body: formData,\n        })\n\n        if (!resp.ok) {\n          let errorMessage = `${resp.status}: ${resp.statusText}`\n          try {\n            const errorData = await resp.json()\n            if (errorData?.message) errorMessage = errorData.message\n          } catch {}\n          throw new Error(errorMessage)\n        }\n\n        const result = await resp.json()\n\n        set({\n          applicationId: result?.data?.transactionRef,\n          applicationReference: result?.data?.transactionRef,\n        })\n\n        return result\n      },\n\n      reset: () => set(initialState),\n    }),\n    {\n      name: \"cbi-registration\",\n      storage: createJSONStorage(() =>\n        typeof window !== \"undefined\" ? localStorage : noopStorage\n      ),\n      onRehydrateStorage: () => (state) => {\n        state?.setHasHydrated(true)\n      },\n\n      // ✅ Persist ONLY serializable, long-lived data\n      partialize: (state) => state,\n      // partialize: (state) => ({\n      //   currentStep: state.currentStep,\n      //   completedSteps: state.completedSteps,\n      //   selectedBusinessName: state.selectedBusinessName,\n      //   applicantType: state.applicantType,\n      //   applicationId: state.applicationId,\n      //   applicationReference: state.applicationReference,\n      //   firstName: state.firstName,\n      //   middleName: state.middleName,\n      //   lastName: state.lastName,\n      //   organizationName: state.organizationName,\n      //   rcNumber: state.rcNumber,\n      //   organizationEmail: state.organizationEmail,\n      //   dateOfBirth: state.dateOfBirth,\n      //   lineOfBusiness: state.natureOfBusiness,\n      //   commencementDate: state.commencementDate,\n      //   gender: state.gender.toLocaleUpperCase(),\n      //   streetNumber: state.companyStreetNumber,\n      //   nationality: state.nationality,\n      //   phone: state.phone,\n      //   email: state.email,\n      //   residentialAddress: state.residentialAddress,\n      //   businessAddress: state.businessAddress,\n      //   companyCity: state.companyCity,\n      //   companyState: state.companyState,\n      //   businessEmail: state.businessEmail,\n      //   businessPhone: state.businessPhone,\n      //   proprietorCity: state.proprietorCity,\n      //   proprietorState: state.proprietorState,\n      //   proprietorPostcode: state.proprietorPostcode,\n      //   proprietorLga: state.proprietorLga,\n      //   proprietorStreetNumber: state.proprietorStreetNumber,\n      //   paymentStatus: state.paymentStatus,\n      //   paymentReference: state.paymentReference,\n      //   paymentError: state.paymentError,\n      //   submitted: state.submitted,\n      //   supportingDocBase64: state.supportingDocBase64,\n      //   signatureBase64: state.signatureBase64,\n      //   meansOfIdBase64: state.meansOfIdBase64,\n      //   passportBase64: state.passportBase64,\n      //   // add others that must survive refresh\n      // }),\n    }\n  )\n)\n\n\n// export const useRegistrationStore = create<\n//   RegistrationData & {\n//     updateField: (field: keyof RegistrationData, value: any) => void\n//     nextStep: () => void\n//     previousStep: () => void\n//     submitRegistration: () => Promise<any>\n//     reset: () => void\n//   }\n// >()(\n//   persist(\n//     (set, get) => ({\n//       ...initialState,\n\n//       updateField: (field, value) =>\n//         set((state) => ({ ...state, [field]: value })),\n\n//       nextStep: () =>\n//         set((state) => ({\n//           currentStep: Math.min(state.currentStep + 1, 7),\n//           completedSteps: [...new Set([...state.completedSteps, state.currentStep])],\n//         })),\n\n//       previousStep: () =>\n//         set((state) => ({\n//           currentStep: Math.max(state.currentStep - 1, 1),\n//         })),\n\n//       submitRegistration: async () => {\n//         const state = get()\n//         const formData = buildSubmissionPayload(state)\n\n//         const resp = await fetch(`${API_BASE_URL}reg-bn`, {\n//           method: \"POST\",\n//           body: formData,\n//         })\n\n//         if (!resp.ok) {\n//           let errorMessage = `${resp.status}: ${resp.statusText}`\n//           try {\n//             const errorData = await resp.json()\n//             if (errorData.message) {\n//               errorMessage = errorData.message\n//             }\n//           } catch (e) {\n//             // If parsing JSON fails, use the default error message\n//           }\n//           throw new Error(errorMessage)\n//         }\n\n//         const result = await resp.json()\n\n//         set({\n//           applicationId: result?.data?.transactionRef,\n//           applicationReference: result?.data?.transactionRef,\n//         })\n\n//         return result\n//       },\n\n//       reset: () => set(initialState),\n//     }),\n//     {\n//       name: \"cbi-registration\",\n//       storage: createJSONStorage(() =>\n//         typeof window !== \"undefined\" ? localStorage : undefined\n//       ),\n//       // partialize: (state) => state, // persist full state safely\n//     }\n//   )\n// )\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/public/assets/cbi-logo.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 482, height: 100, blurWidth: 8, blurHeight: 2, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR42gFCAL3/ADQqK0xBJCVYFBISHA0NDRMLCwsQDAwNEwsLDBAMDAwQAEFCQ3Q/P0BwJCQlNywsLUIpKSo8Li4vQzY2N1AyMjNHI+0KP/w9QLwAAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,oJAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAA4M"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/components/header.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\nimport { Menu, X } from \"lucide-react\"\nimport cbiLogo from \"../public/assets/cbi-logo.png\"\n\nexport function Header() {\n  const [mobileMenuOpen, setMobileMenuOpen] = React.useState(false)\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n            <Image src={cbiLogo} alt=\"CBI Logo\" className=\"w-[182px] h-[45px]\" />\n          </Link>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden md:flex items-center gap-8\">\n            <Link\n              href=\"/\"\n              className=\"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              Home\n            </Link>\n            <a\n              href=\"#how-it-works\"\n              className=\"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              How It Works\n            </a>\n            <a\n              href=\"#faq\"\n              className=\"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              FAQ\n            </a>\n          </nav>\n\n          {/* CTA Button - Desktop */}\n          <div className=\"hidden md:flex items-center gap-3\">\n            <Link\n              href=\"/register\"\n              className=\"px-6 py-2.5 rounded-lg bg-primary text-primary-foreground font-medium hover:bg-primary/90 transition-all duration-200 shadow-md hover:shadow-lg\"\n            >\n              Register Now\n            </Link>\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n            className=\"md:hidden p-2 hover:bg-secondary rounded-lg transition-colors\"\n            aria-label=\"Toggle menu\"\n          >\n            {mobileMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n          </button>\n        </div>\n\n        {/* Mobile Menu */}\n        {mobileMenuOpen && (\n          <div className=\"md:hidden pb-4 border-t border-border animate-slide-up\">\n            <nav className=\"flex flex-col gap-2 pt-4\">\n              <Link\n                href=\"/\"\n                className=\"px-4 py-2 text-sm font-medium text-foreground hover:bg-secondary rounded-lg transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Home\n              </Link>\n              <a\n                href=\"#how-it-works\"\n                className=\"px-4 py-2 text-sm font-medium text-foreground hover:bg-secondary rounded-lg transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                How It Works\n              </a>\n              <a\n                href=\"#faq\"\n                className=\"px-4 py-2 text-sm font-medium text-foreground hover:bg-secondary rounded-lg transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                FAQ\n              </a>\n              <Link\n                href=\"/register\"\n                className=\"w-full px-4 py-2.5 mt-2 rounded-lg bg-primary text-primary-foreground font-medium text-center hover:bg-primary/90 transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Register Now\n              </Link>\n            </nav>\n          </div>\n        )}\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;;;AANA;;;;;;AAQO,SAAS;;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAE3D,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;sCACvB,cAAA,6LAAC,2IAAK;gCAAC,KAAK,8UAAO;gCAAE,KAAI;gCAAW,WAAU;;;;;;;;;;;sCAIhD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;sCAMH,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,0KAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;sCAMH,6LAAC;4BACC,SAAS,IAAM,kBAAkB,CAAC;4BAClC,WAAU;4BACV,cAAW;sCAEV,+BAAiB,6LAAC,oMAAC;gCAAC,WAAU;;;;;qDAAe,6LAAC,6MAAI;gCAAC,WAAU;;;;;;;;;;;;;;;;;gBAKjE,gCACC,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0KAAI;gCACH,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,kBAAkB;0CAClC;;;;;;0CAGD,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,kBAAkB;0CAClC;;;;;;0CAGD,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,kBAAkB;0CAClC;;;;;;0CAGD,6LAAC,0KAAI;gCACH,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,kBAAkB;0CAClC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GA5FgB;KAAA"}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/components/footer.tsx"],"sourcesContent":["\"use client\"\nimport Image from \"next/image\"\nimport cbiLogo from \"../public/assets/cbi-logo.png\"\n\nexport function Footer() {\n  const currentYear = new Date().getFullYear()\n\n  return (\n    <footer className=\"bg-secondary border-t border-border\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8\">\n          {/* Company Info */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2\">\n              <Image src={cbiLogo} alt=\"CBI Logo\" className=\"w-[182px] h-[45px]\" />\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              Empowering businesses to achieve CAC compliance and deploy PoS solutions.\n            </p>\n          </div>\n\n          {/* Quick Links */}\n          <div>\n            <h4 className=\"font-semibold text-foreground mb-3\">Quick Links</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <a href=\"/\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Home\n                </a>\n              </li>\n              <li>\n                <a href=\"/status\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Check Status\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          {/* Support */}\n          <div>\n            <h4 className=\"font-semibold text-foreground mb-3\">Support</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <a href=\"/support\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Support Center\n                </a>\n              </li>\n              <li>\n                <a href=\"mailto:support@cbitechnologiesltd.com\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Email Support\n                </a>\n              </li>\n              <li>\n                <a href=\"tel:+2348112936083\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Call Support\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          {/* Legal */}\n          <div>\n            <h4 className=\"font-semibold text-foreground mb-3\">Legal</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <a href=\"/privacy\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Privacy Policy\n                </a>\n              </li>\n              <li>\n                <a href=\"/terms\" className=\"text-muted-foreground hover:text-primary transition-colors\">\n                  Terms & Conditions\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Bottom */}\n        <div className=\"border-t border-border pt-8 flex flex-col sm:flex-row justify-between items-center gap-4\">\n          <p className=\"text-sm text-muted-foreground text-center sm:text-left\">\n            © {currentYear} CBI Technologies Limited. All rights reserved. This portal is dedicated to CAC business\n            registration only.\n          </p>\n          <p className=\"text-xs text-muted-foreground\">\n            Powered by <span className=\"font-medium text-foreground\">CBI Technologies Ltd</span>\n          </p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIO,SAAS;IACd,MAAM,cAAc,IAAI,OAAO,WAAW;IAE1C,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,2IAAK;wCAAC,KAAK,8UAAO;wCAAE,KAAI;wCAAW,WAAU;;;;;;;;;;;8CAEhD,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;sCAM/C,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA6D;;;;;;;;;;;sDAIrF,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAU,WAAU;0DAA6D;;;;;;;;;;;;;;;;;;;;;;;sCAQ/F,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAW,WAAU;0DAA6D;;;;;;;;;;;sDAI5F,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAwC,WAAU;0DAA6D;;;;;;;;;;;sDAIzH,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAqB,WAAU;0DAA6D;;;;;;;;;;;;;;;;;;;;;;;sCAQ1G,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAW,WAAU;0DAA6D;;;;;;;;;;;sDAI5F,6LAAC;sDACC,cAAA,6LAAC;gDAAE,MAAK;gDAAS,WAAU;0DAA6D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAShG,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;;gCAAyD;gCACjE;gCAAY;;;;;;;sCAGjB,6LAAC;4BAAE,WAAU;;gCAAgC;8CAChC,6LAAC;oCAAK,WAAU;8CAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrE;KAvFgB"}},
    {"offset": {"line": 808, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/components/form-input.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { AlertCircle, Info } from \"lucide-react\"\n\ninterface FormInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label: string\n  error?: string\n  helperText?: string\n  tooltip?: string\n  required?: boolean\n}\n\nexport const FormInput = React.forwardRef<HTMLInputElement, FormInputProps>(\n  ({ label, error, helperText, tooltip, required, className, ...props }, ref) => {\n    return (\n      <div className=\"space-y-2\">\n        <label className=\"block text-sm font-medium text-foreground\">\n          {label}\n          {required && <span className=\"text-destructive ml-1\">*</span>}\n          {tooltip && (\n            <span className=\"ml-2 inline-flex items-center group cursor-help\">\n              <Info className=\"w-4 h-4 text-muted-foreground\" />\n              <span className=\"hidden group-hover:block absolute mt-2 p-2 bg-foreground text-background text-xs rounded whitespace-nowrap z-10\">\n                {tooltip}\n              </span>\n            </span>\n          )}\n        </label>\n        <input\n          ref={ref}\n          className={`w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-colors ${\n            error ? \"border-destructive\" : \"\"\n          } ${className}`}\n          {...props}\n        />\n        {error && (\n          <div className=\"flex items-center gap-2 text-sm text-destructive\">\n            <AlertCircle className=\"w-4 h-4\" />\n            {error}\n          </div>\n        )}\n        {helperText && <p className=\"text-xs text-muted-foreground\">{helperText}</p>}\n      </div>\n    )\n  },\n)\n\nFormInput.displayName = \"FormInput\"\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAaO,MAAM,0BAAY,wKAAK,CAAC,UAAU,MACvC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACrE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAM,WAAU;;oBACd;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAwB;;;;;;oBACpD,yBACC,6LAAC;wBAAK,WAAU;;0CACd,6LAAC,6MAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;gCAAK,WAAU;0CACb;;;;;;;;;;;;;;;;;;0BAKT,6LAAC;gBACC,KAAK;gBACL,WAAW,CAAC,8MAA8M,EACxN,QAAQ,uBAAuB,GAChC,CAAC,EAAE,WAAW;gBACd,GAAG,KAAK;;;;;;YAEV,uBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,sOAAW;wBAAC,WAAU;;;;;;oBACtB;;;;;;;YAGJ,4BAAc,6LAAC;gBAAE,WAAU;0BAAiC;;;;;;;;;;;;AAGnE;;AAGF,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/components/form-section.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { AlertCircle, ChevronDown } from \"lucide-react\"\n\ninterface FormSectionProps {\n  title: string\n  description?: string\n  children: React.ReactNode\n  error?: string\n  isRequired?: boolean\n  icon?: React.ReactNode\n  collapsible?: boolean\n  defaultOpen?: boolean\n}\n\nexport function FormSection({\n  title,\n  description,\n  children,\n  error,\n  isRequired,\n  icon,\n  collapsible,\n  defaultOpen = true,\n}: FormSectionProps) {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen)\n\n  if (collapsible) {\n    return (\n      <div className=\"space-y-4 border border-border rounded-lg overflow-hidden\">\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"w-full flex items-center justify-between p-4 hover:bg-secondary/50 transition-colors\"\n        >\n          <div className=\"flex items-center gap-3\">\n            {icon}\n            <div className=\"text-left\">\n              <h3 className=\"font-semibold text-foreground flex items-center gap-2\">\n                {title}\n                {isRequired && <span className=\"text-destructive\">*</span>}\n              </h3>\n              {description && <p className=\"text-sm text-muted-foreground\">{description}</p>}\n            </div>\n          </div>\n          <ChevronDown className={`w-5 h-5 text-muted-foreground transition-transform ${isOpen ? \"rotate-180\" : \"\"}`} />\n        </button>\n\n        {isOpen && <div className=\"px-4 pb-4 space-y-4 border-t border-border\">{children}</div>}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-4 bg-background p-6 rounded-lg border border-border\">\n      <div className=\"flex items-start gap-3\">\n        {icon && <div className=\"mt-1\">{icon}</div>}\n        <div className=\"flex-1\">\n          <h3 className=\"font-semibold text-foreground flex items-center gap-2\">\n            {title}\n            {isRequired && <span className=\"text-destructive\">*</span>}\n          </h3>\n          {description && <p className=\"text-sm text-muted-foreground mt-1\">{description}</p>}\n        </div>\n      </div>\n\n      <div className=\"space-y-4\">{children}</div>\n\n      {error && (\n        <div className=\"flex items-start gap-3 p-3 rounded-lg bg-destructive/10 border border-destructive/20\">\n          <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n          <p className=\"text-sm text-destructive\">{error}</p>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAgBO,SAAS,YAAY,EAC1B,KAAK,EACL,WAAW,EACX,QAAQ,EACR,KAAK,EACL,UAAU,EACV,IAAI,EACJ,WAAW,EACX,cAAc,IAAI,EACD;;IACjB,MAAM,CAAC,QAAQ,UAAU,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAE3C,IAAI,aAAa;QACf,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,SAAS,IAAM,UAAU,CAAC;oBAC1B,WAAU;;sCAEV,6LAAC;4BAAI,WAAU;;gCACZ;8CACD,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;;gDACX;gDACA,4BAAc,6LAAC;oDAAK,WAAU;8DAAmB;;;;;;;;;;;;wCAEnD,6BAAe,6LAAC;4CAAE,WAAU;sDAAiC;;;;;;;;;;;;;;;;;;sCAGlE,6LAAC,sOAAW;4BAAC,WAAW,CAAC,mDAAmD,EAAE,SAAS,eAAe,IAAI;;;;;;;;;;;;gBAG3G,wBAAU,6LAAC;oBAAI,WAAU;8BAA8C;;;;;;;;;;;;IAG9E;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;oBACZ,sBAAQ,6LAAC;wBAAI,WAAU;kCAAQ;;;;;;kCAChC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;oCACX;oCACA,4BAAc,6LAAC;wCAAK,WAAU;kDAAmB;;;;;;;;;;;;4BAEnD,6BAAe,6LAAC;gCAAE,WAAU;0CAAsC;;;;;;;;;;;;;;;;;;0BAIvE,6LAAC;gBAAI,WAAU;0BAAa;;;;;;YAE3B,uBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,sOAAW;wBAAC,WAAU;;;;;;kCACvB,6LAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;;AAKnD;GA5DgB;KAAA"}},
    {"offset": {"line": 1121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Akinlolu/OneDrive%20-%20Baywood%20Group/Desktop/business-registration-portal/app/status/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { API_BASE_URL, useRegistrationStore } from \"@/lib/store\"\nimport { Header } from \"@/components/header\"\nimport { Footer } from \"@/components/footer\"\nimport { FormInput } from \"@/components/form-input\"\nimport { FormSection } from \"@/components/form-section\"\nimport { Search, Clock, CheckCircle2, AlertCircle, Download } from \"lucide-react\"\n\nexport default function StatusPage() {\n  const store = useRegistrationStore()\n  const [reference, setReference] = React.useState<string>(\"\")\n  const [status, setStatus] = React.useState<any>(null)\n  const [isLoading, setIsLoading] = React.useState(false)\n  const [error, setError] = React.useState(\"\")\n\n  const downloadBlob = async (endpoint: string, transactionRef: string, filename: string) => {\n    if (!transactionRef) {\n      setError(\"Transaction reference is required\")\n      return\n    }\n\n    setIsLoading(true)\n    setError(\"\")\n    try {\n      const resp = await fetch(`${API_BASE_URL}${endpoint}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ transactionRef }),\n      })\n\n      if (!resp.ok) {\n        throw new Error(\"Download failed\")\n      }\n\n      const blob = await resp.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement(\"a\")\n      a.href = url\n      a.download = filename\n      document.body.appendChild(a)\n      a.click()\n      URL.revokeObjectURL(url)\n      a.remove()\n    } catch (err: any) {\n      setError(err?.message || \"Download failed\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleSearch = async () => {\n    if (!reference.trim()) {\n      setError(\"Please enter an application reference\")\n      return\n    }\n\n    setIsLoading(true)\n    setError(\"\")\n\n    try {\n      const resp = await fetch(`${API_BASE_URL}check-status/${reference.trim()}`)\n\n      if (!resp.ok) {\n        setError(\"Failed to retrieve status. Please try again.\")\n        return\n      }\n\n      const json = await resp.json()\n\n      // Response shape provided by backend\n      // { statusCode, status, message, data: { status, transactionRef, data: { rcNumber, entityName, entityType, registrationDate, tin }, partners }, ... }\n      const payload = json?.data ?? null\n      if (!payload) {\n        setError(\"No status data returned.\")\n        return\n      }\n\n      setStatus({\n        status: payload.status,\n        transactionRef: payload.transactionRef,\n        entity: payload.data,\n        message: json?.message ?? json?.data?.message ?? \"\",\n      })\n    } catch (err) {\n      setError(\"Failed to retrieve status. Please try again.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const capitalize = (s: string) => (s ? s.charAt(0).toUpperCase() + s.slice(1) : s)\n\n  const getStatusColor = (status: string) => {\n    const key = (status || \"\").toLowerCase()\n    switch (key) {\n      case \"approved\":\n        return \"text-green-600\"\n      case \"pending\":\n        return \"text-amber-600\"\n      case \"submitted\":\n        return \"text-blue-600\"\n      case \"rejected\":\n        return \"text-destructive\"\n      default:\n        return \"text-foreground\"\n    }\n  }\n\n  const getStatusIcon = (status: string) => {\n    const key = (status || \"\").toLowerCase()\n    switch (key) {\n      case \"approved\":\n        return <CheckCircle2 className=\"w-6 h-6 text-green-600\" />\n      case \"pending\":\n        return <Clock className=\"w-6 h-6 text-amber-600\" />\n      case \"rejected\":\n        return <AlertCircle className=\"w-6 h-6 text-destructive\" />\n      default:\n        return <Clock className=\"w-6 h-6 text-blue-600\" />\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-background\">\n      <Header />\n\n      <main className=\"flex-1 px-4 sm:px-6 lg:px-8 py-12 sm:py-20\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"mb-12 text-center space-y-2\">\n            <h1 className=\"text-3xl sm:text-4xl font-bold text-foreground\">Check Application Status</h1>\n            <p className=\"text-lg text-muted-foreground\">\n              Enter your application reference number to view the status of your CAC registration\n            </p>\n          </div>\n\n          <FormSection title=\"Application Reference\">\n            <div className=\"flex gap-2 flex-col sm:flex-row\">\n              <FormInput\n                label=\"\"\n                placeholder=\"E.g, VAS3547078455\"\n                value={reference}\n                onChange={(e) => setReference(e.target.value)}\n                onKeyPress={(e) => e.key === \"Enter\" && handleSearch()}\n              />\n              <button\n                onClick={handleSearch}\n                disabled={isLoading}\n                className=\"flex items-center justify-center gap-2 px-6 py-2.5 rounded-lg bg-primary text-primary-foreground font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n              >\n                <Search className=\"w-4 h-4\" />\n                {isLoading ? \"Searching...\" : \"Search\"}\n              </button>\n              <div className=\"flex gap-2 sm:ml-2\">\n                <button\n                  onClick={() => downloadBlob(\"download-status-report\", reference.trim(), `status-report-${reference.trim() || \"report\"}.pdf`)}\n                  disabled={isLoading || !reference.trim()}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-secondary text-foreground border border-border hover:bg-secondary/90 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  Download Status Report\n                </button>\n                <button\n                  onClick={() => downloadBlob(\"download-cert\", reference.trim(), `certificate-${reference.trim() || \"cert\"}.pdf`)}\n                  disabled={isLoading || !reference.trim()}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-secondary text-foreground border border-border hover:bg-secondary/90 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  Download Certificate\n                </button>\n              </div>\n            </div>\n          </FormSection>\n\n          {error && (\n            <div className=\"mt-6 p-4 rounded-lg bg-destructive/10 border border-destructive/20 flex items-start gap-3\">\n              <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n              <p className=\"text-sm text-destructive\">{error}</p>\n            </div>\n          )}\n\n          {status && (\n            <div className=\"mt-12 space-y-6 animate-slide-up\">\n              {/* Status Header */}\n              <div className=\"p-6 rounded-lg bg-secondary border border-border\">\n                <div className=\"flex items-start gap-4\">\n                  {getStatusIcon(status.status)}\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-muted-foreground\">Application Status</p>\n                    <p className={`text-2xl font-bold mt-1 ${getStatusColor(status.status)}`}>{capitalize(status.status)}</p>\n                    {status.message && <p className=\"text-sm text-muted-foreground mt-2\">{status.message}</p>}\n                  </div>\n                </div>\n              </div>\n\n              {/* Application Details - display backend data */}\n              <FormSection title=\"Application Details\">\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground uppercase\">Reference / Transaction</p>\n                    <p className=\"text-sm font-medium text-foreground mt-1\">{status.transactionRef}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground uppercase\">Entity Name</p>\n                    <p className=\"text-sm font-medium text-foreground mt-1\">{status.entity?.entityName}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground uppercase\">Entity Type</p>\n                    <p className=\"text-sm font-medium text-foreground mt-1\">{status.entity?.entityType}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground uppercase\">RC Number</p>\n                    <p className=\"text-sm font-medium text-foreground mt-1\">{status.entity?.rcNumber ?? \"-\"}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground uppercase\">Registration Date</p>\n                    <p className=\"text-sm font-medium text-foreground mt-1\">\n                      {status.entity?.registrationDate ? new Date(status.entity.registrationDate).toLocaleDateString() : \"-\"}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground uppercase\">TIN</p>\n                    <p className=\"text-sm font-medium text-foreground mt-1\">{status.entity?.tin ?? \"-\"}</p>\n                  </div>\n                </div>\n              </FormSection>\n\n              {/* Support Info */}\n              <div className=\"p-4 rounded-lg bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800\">\n                <p className=\"text-sm text-blue-900 dark:text-blue-100\">\n                  Have questions? Contact our support team at{' '}\n                  <a href=\"mailto:support@cbitechnologiesltd.com\" className=\"font-medium underline\">\n                    support@cbitechnologiesltd.com\n                  </a>{' '}\n                  or call{' '}\n                  <a href=\"tel:+234800000000\" className=\"font-medium underline\">\n                    +234 800 000 0000\n                  </a>\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}